<div class="dataset-wrapper" *ngIf="show">
  <div class="dataset-content">
    <div class="dataset-header">
      <div class="dataset-name" *ngIf="jobPath==undefined">{{dataList?.dataName}}</div>
      <div class="dataset-name" *ngIf="jobPath!=undefined">{{dataInfo?.dataName}}</div>
      <div class="dataset-detail">
        <div class="dataset-detailbox">
          <div class="dataset-text first">
            <span>数据集分类：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.dataTypeName}}</span>
            <span *ngIf="jobPath!=undefined">{{dataInfo?.dataTypeName}}</span>
          </div>
          <div class="dataset-text second">
            <span>数据集类型：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.creator=='system'?'公共数据集':'个人数据集'}}</span>
            <span *ngIf="jobPath!=undefined">{{dataInfo?.creator=='system'?'公共数据集':'个人数据集'}}</span>
          </div>
          <div class="dataset-text first">
            <span>存储空间：</span>
            <span *ngIf="jobPath==undefined">{{calc_size(dataList?.diskUsageAccount)}}</span>
            <span *ngIf="jobPath!=undefined">{{dataListShow?.size}}</span>
          </div>
        </div>
        <div class="dataset-detailbox">
          <div class="dataset-text first">
            <span>总文件数：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.fileCount}}</span>
            <span *ngIf="jobPath!=undefined">{{dataListShow?.count}}</span>
          </div>
          <div class="dataset-text second">
            <span>数据集名称：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.fileCount}}</span>
            <span *ngIf="jobPath!=undefined">{{dataListShow?.count}}</span>
          </div>
          <div class="dataset-text first" *ngIf="dataList?.creator=='admin'">
            <span>创建人：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.creator}}</span>
            <span *ngIf="jobPath!=undefined">{{dataInfo?.creator}}</span>
          </div>
          <div class="dataset-text first" *ngIf="dataList?.creator=='admin'">
            <span>创建时间：</span>
            <span *ngIf="jobPath==undefined">{{dataList?.createTime}}</span>
            <span *ngIf="jobPath!=undefined">{{dataInfo?.createTime}}</span>
          </div>
        </div>
      </div>
      <img src="../../../assets/datasets/guanbi.png" (click)="close()" class="close"/>
    </div>
    <div class="dataset-path">
      <!-- <img [src]="arr.length>1?'assets/datasetsDetail/zuo-shen.png':'assets/datasetsDetail/zuo-qian.png'" class="middle leftArrow" (click)="left()"/>
       <img [src]="arr.length==dataPath.length?'assets/datasetsDetail/you-qian.png':'assets/datasetsDetail/you-shen.png'" class="middle rightArrow"  (click)="right()"/>
       <span class="dataset-pathText" *ngFor="let path of arr;let i=index">{{output(path)}}<img src="assets/datasetsDetail/xiaji.png" class="path"/></span>-->
    </div>
    <div class="dataset-body">
      <div class="dataset-search">
        <div class="search">
          <img class="searchicon" src="assets/jobcreation/sousuo.png" alt="searchicon" *ngIf="icon">
          <input type="text" class="searchInput" [attr.placeholder]="placeholder==true?'请输入文件关键字':''" [ngClass]="{paddingLeft: icon==false}" [(ngModel)]="searchName" (focus)="hideIcon()" (blur)="showIcon()"/>
        </div>
        <span class="dbclick" *ngIf="test=='test'">双击选择文件</span>
        <img [src]="arr.length>1?'assets/datasetsDetail/back_shen.png':'assets/datasetsDetail/back_qian.png'" class="previous" (click)="previous()"/>
      </div>
      <div class="dataset-show">
        <div class="dataset-model" *ngFor="let item of filterArr;let i=index" [style.display]="item.flag==1?'none':''">
          <div class="dataset-center">
            <img [src]="getItem(item)" (click)="enterPath(item)" (click)="open(item)"/>
            <span title="{{getSet(item)}}">{{getSet(item)}}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="fangda" [style.display]="image?'':'none'">
        <span>
          <img src="{{SERVER_URL}}/download/{{imageUrl}}" class="jietu" *ngIf="imageUrl"/>
          <img src="../assets/datasetsDetail/delete.png" class="close" (click)="closeImage()"/>
        </span>
    </div>
  </div>
</div>
<app-text [(txtShow)]="txtShow" [txtContent]="txtContent"></app-text>

<div class="show-text" *ngIf="textShow">
  <div class="show-text-content">
    <div class="show-text-title">
      <span>{{textName}}</span>
      <img src="assets/datasets/createfile/gb.png" (click)="close()"/>
    </div>
    <div>
      <div class="show-text-txt">
        {{textContent}}
      </div>
    </div>
  </div>
</div>
<div class="show-text" *ngIf="photoShow">
  <div class="show-image">
    <img src="{{SERVER_URL}}/download/{{image}}" (load)="getWH()" id="image"/>
    <img src="assets/datasets/filelevel/close.png" (click)="closeImg()" class="guanbiPhoto" id="closeImage"/>
  </div>
</div>
<div class="show-text" *ngIf="videoShow">
  <div class="show-video">
    <img src="assets/datasets/filelevel/close.png" class="videoClose" (click)="closeVideo()"/>
    <video src="{{SERVER_URL}}/download/{{output1(videoSrc)}}" controls="controls">
      您的浏览器不支持 video 标签。
    </video>
  </div>
</div>
<div class="show-text" *ngIf="audioShow">
  <div class="show-audio">
    <img src="assets/datasets/filelevel/close.png" class="videoClose audioClose" (click)="closeAudio()"/>
    <audio src="{{SERVER_URL}}/download/{{output1(audioSrc)}}" controls="controls">
      您的浏览器不支持 audio 标签。
    </audio>
  </div>
</div>
