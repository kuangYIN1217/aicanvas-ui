<div *ngIf="show" class="popup-wrapper" >
  <div class="upload-wrapper">
    <div class="top">
      <label>选择文件夹（数据集）</label>
      <img src="../../../assets/datasets/guanbi.png" (click)="$hide_click()">
    </div>
    <cpt-error [show]="s_error_show" [message]="s_error_message" [level]="s_error_level"></cpt-error>
   <!-- <div class="error item" *ngIf="s_error_show">
      <img [src]="'../../../assets/datasets/' + (s_error_level === 'error' ? 'cuowu.png' : 'tishi.png')" alt="">
      <label>{{s_error_level === 'error' ? '错误！' : '提示！'}}</label>
      {{s_error_message}}
    </div>
-->
<!--    <div class="form item" *ngIf="s_form_show">
      <div class="inputContainer">
        <span><label class="orange">*</label>数据集名称 :</span>
        &lt;!&ndash; if too slow for each search, should change to (change) according to the num of data &ndash;&gt;
        <input [(ngModel)]="s_name" (ngModelChange)="$name_change()" class="search-input" type="text"  placeholder="数据集名称"/>
      </div>
      <div class="selectContainer">
        <span><label class="orange">*</label>选择分类 :</span>
        <select [(ngModel)]="s_select_datasetType" (ngModelChange)="$name_change()">
          <option *ngFor="let item of d_dataTypes" [value]="item.id">{{item.typeName}}</option>
        </select>
      </div>
    </div>-->
    <div *ngIf="s_form_show">
      <div class="file_type">
        <label>文件夹类型：</label>
        <div class="classification">
          <img *ngFor="let item of datasetsType" [src]="getImage(item)" (click)="chooseImg(item)"/>
        </div>
      </div>
    </div>
    <!--    <div class="upload-dataset resumable-browse" (click)="$upload_click($event)" *ngIf="s_form_show">
--      <div *ngIf="once_click" class="lds-css ng-scope">
           <div class="lds-rolling">
             <div></div>
           </div>
         </div>-->
      <div class="upload-dataset resumable-browse">
      <span onclick="document.getElementById('file').click()">选择文件(.zip)</span>
      <input type="file" multiple id="file" name="file" accept=".zip" ng2FileSelect [uploader]="uploader" (change)="selectedFileOnChanged($event)"/>
      <!--<span *ngIf="!once_click">选择文件(.zip)</span>-->
    </div>
    <div class="file_list">
      <label>文件夹列表：</label>
      <div class="upload_zip">
        <div *ngFor="let item of showUpload">
          <img src="assets/datasets/upload/tc_wjj.png" class="wjj wjj_icon"/>
          <span class="upload_name" title="{{item.name}}">{{item.name}}</span>
          <span class="upload_status">{{item.status}}<span *ngIf="item.progress!=100&&item.status=='上传中'" style="padding-left: 6px">({{item.progress}}%)</span></span>
          <img [src]="uploadStatus(item)" class="wjj status_icon" *ngIf="item.status"/>
        </div>
<!--        <div>
          <img src="assets/datasets/upload/tc_wjj.png" class="wjj wjj_icon"/>
          <span class="upload_name">数据集</span>
          <span class="upload_status">上传中（20%）</span>
          <img src="assets/datasets/upload/tc_sc.png" class="wjj status_icon"/>
        </div>
        <div>
          <img src="assets/datasets/upload/tc_wjj.png" class="wjj wjj_icon"/>
          <span class="upload_name">数据集</span>
          <span class="upload_status">上传失败</span>
          <img src="assets/datasets/upload/tc_sb.png" class="wjj status_icon"/>
        </div>-->
      </div>
    </div>
<!--    <div class="progress item" *ngIf="s_progress_show">
      <div class="head">
        <img class="upload" src="../../../assets/datasets/upload_shangchuan.png" alt="">
        <label>{{s_progress_name}} ( {{s_progress_size}} )</label>
      </div>
      <div class="bar">
        <div class="active" [ngClass]="{'success': s_progress_success}" [ngStyle]="{'width': s_progress_ratio}">{{s_progress_ratio}}&nbsp;</div>
      </div>
      <img src="../../../assets/datasets/upload_remove.png" alt="" class="remove" (click)="$remove_click()">
    </div>-->
  </div>
  <ng2-toasty class="toasty" [position]="'top-center'"></ng2-toasty>
</div>
<app-tips [(show)]="showTip" [content]="content"></app-tips>
